Платежный сервис PayQR для InSales CMS
===================================================

Описание библиотеки
===================

Рады, что выбрали нашу библиотеку для осуществления приема платежей через платежный сервис PayQR.


Установка библиотеки
====================

1. Загружаем файл payqr.js из репозитория на ваш локальный компьютер.
   Переходим в админскую часть сайта InsalesCMS и следуем следующим подсказкам для навигации:
   - "Дизайн" -> Ищем раздел "Текущие темы" и в соответствующей теме находим "Редактор HTML/CSS/JS"
   - Находим раздел "Скрипты" и разворачиваем список. Чтобы загрузить на сервер InSales библиотеку PayQR наводим курсор на пункт меню "Скрипты" и увидим пиктограмму "полочки". Нажав на нее вы активируете всплывающее окно
     одним из пунктов которой будет "Добавить". Нажимаем и загружаем библиотеку на сервер.

2. "Дизайн" -> Ищем раздел "Текущие темы" и в соответствующей теме находим "Редактор HTML/CSS/JS" "Сниппеты" -> ищем сниппет head.

    Далее переходим в Личный кабинет PayQR (далее - ЛК), находим: "Магазины" - "Конструктор скрипта и кнопки", далее на странице ищем раздел
    "Для размещения в head интернет-сайта" находим и копируем строчки вида

    ```
      <script src="https://payqr.ru/popup.js?merchId=XXXXXX-YYYYY"></script>
    ```

    После строки

    ```
      <script type="text/javascript" src="//ajax.googleapis.com/ajax/libs/jquery/1.11.0/jquery.min.js"></script>
    ```

    В администраторской части переходим "Приложения" -> "Разработчикам" ищем на странице раздел "Ключи доступа" и находим в нем "Пример URL" и копируем строку формата:

    ```
      http://Идентификатор:Пароль@ВашInSalesХост/admin/
    ```

    В ЛК в разделе CMS для Интернет-магазинов, в выпадающем списке находим InSales и в текстовое поле "Дополнительные данные" вставляем строку формата приведенного выше.

    Далее нажимаем кнопку "Генерировать данные" и получаем скрипт вида

    ```
      <script>var insales='шифрованная строка==';</script>
    ```

    Для примера строка будет иметь следующий вид:

    ```
    <script>
        var insales='mcEwHxdtxcGpW+1rHxg3u5dr10kIS0OIGaVK268YzHLda+fbOGxxPX4NuYyUzjlOW6DjJnkeE0G59jY4KZ+11pd9R3QpPL8usVnzSkxcIC+bUC8olt5uyvEXipoNFBarkqwN4rDBIg6I2YPwQX9JoRMkUUfzUv15LXpRc+I/gUIygEn8+z71Jo14xMSgm/xPPAomRtT68OfE8VHkHv0H5fYnFsSHtLqeBU5iha63B5AYj5SCthP1RWXP0zaMrDYIe9K0xuP3uDlK5OH/+9rIuSm9/d+encEpX5Ds7obV6Vd0I5VVaO2sGbhhHX+IOCrri9MyaoVzLscyVcJpIEPapQ==';
    </script>
    ```

    Сгенерированную строку вставляем после ранее вставленной строчки кода.


    Туда же копируем строку

    ```
    <script type="text/javascript" src="{{ 'payqr.js' | asset_url }}"></script>
    ```

   


